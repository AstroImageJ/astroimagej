---
title: 'Release 5.2.1.00'
date: '2023-08-08'
versionNumber: '5.2.1.00'
description: ''
---

### Includes
ImageJ 1.53k and Java 18


## New Features
- General
  - 5.2.0.17: stacks with different image zooms are cropped and filled to the same size as the first image in the stack (e.g. ZTF images)
  - 5.2.0.17: New plot zoom modes, scroll/trackpad zoom action zooms in both X- and Y-axis, <control/command>-scroll zooms in X-axis only, <alt/option>-scroll zooms in Y-axis only, <alt/option>-drag in plot drags a zoom-box to define the zoom region. New HELP button in plot windows defines all the plot-mouse-keyboard actions.
  - 5.2.0.17: new aperture options added “Place all new apertures”,  “Place first previously used aperture”, “Place N previously used apertures”, and “Place N imported apertures”
  - 5.2.0.17: update WCS and NAXIS of debayered images
  - 5.2.0.17: add color code to debayered images
  - 5.2.0.17: on Mac, files now associated with AIJ (such as .tbl) can be double-clicked to open them into AIJ and Multi-plot
  - 5.2.0.15: Measurements table support precision beyond 6 decimal places.
  - 5.2.0.13: Added macro and macro recorder support to Multi-Aperture and Stack Aligner (for new genericswingdialog windows)
- Macros
  - 5.2.0.16: Added flags for data processor, multi-aperture, and stack aligner completion
- Multi-aperture
  - 5.2.0.17: new aperture options added “Place all new apertures”,  “Place first previously used aperture”, “Place N previously used apertures”, and “Place N imported apertures”
  - Handle SHUTOPEN keyword for timing extraction (e.g. ZTF images)
  -  New “Update image display while running” option can be disabled to significantly speed up Multi-Aperture runs. The downside is that the images can no longer be seen as photometry runs.
- Multiplot
  -  5.2.0.17: New plot zoom modes, scroll zooms in both X- and Y-axis, <control/command>-scroll zooms in X-axis only, <alt/option>-scroll zooms in Y-axis only, <alt/option>-drag in plot drags a zoom-box to define the zoom region. New HELP button in plot windows defines all the plot-mouse-keyboard actions.
  - 5.2.0.17: Detrend and comp optimization now work when smoothing is enabled.
  - 5.2.0.17: Binning can now show both the binned symbols and unbinned symbols, or just the unbinned symbols (through use of tri-state checkbox)
  -  5.2.0.17: Drawing of binned error bars now available on per lightcurve basis
  - 5.2.0.17: Unbinned error bars are now just a straight line. Binned error bars still have top and bottom horizontal lines.
  - 5.2.0.17: unbinned transparent color data are now hidden when binned symbols are enabled
  -  5.2.0.17: smoothing panel improvements
  - 5.2.0.17: operators are now selected using pop-up window and icons
  -  5.2.0.17: New “multi-state” check boxes in Y-data panel save horizontal space
  - 5.2.0.17: using custom error no longer forces the display of error bars (use “show error” to do so)
  - 5.2.0.16: When binned symbols are shown, the unbinned symbols show in a fainter version of the same color instead of always in grey
  - 5.2.0.16: new “Quick” comp star optimization option (allows optimization of large numbers of comp stars, but may not find the exact lowest RMS)
  -  5.2.0.16: Default TESS data smoothing changed to fixed with a knot spacing of 4 times transit duration
  - 5.2.0.16: Any FITS table can now be opened as a measurements table (including TESS SPOC light curve files)
  - 5.2.0.16: Data binning now happens incrementally instead of after data points are put into bins (to handle long TESS sequences)
  - 5.2.0.13: Merged point deletion in plots (<shift> left- and right-click) with cleaning buffering and undo functions in fitting panel.
  - Added control in MP > Style to allow output of binned error bars
  - Lightcurve fitting now allows Tc to be negative to support phase folded plotting.
  - Change default Tc fitting stepsize from 15 minutes to 1 hour, which encourages AIJ to check from transit centers further from the specificied midpoint of “left” and “right”.
  - Added a “Period Sync” checkbox in the multi-plot main phase folding panel. When enabled, the orbital period specified in the phase folding panel is copied to all enabled fitting panels.
  -  Adds new Style menu that will eventually allow various plot style setting (font sizes, symbol sizes, etc.). Currently, only changes to the dot symbol size, binned dot symbol size, and bolded dot symbol size (when mouse cursor is over a symbol in the plot) are available.
- Image Display
  -  5.2.0.17: The new capability introduced in 5.2.0.08 “Added options to save a new single aperture position for use with the multi-aperture “previous aperture” option. To use, type or paste an RA and Dec into either RA or Dec above an image and press <Shift><Enter> to save a centroided T1 aperture, or press <Control><Enter> to save a non-centroided T1 aperture. Just press <Enter> to only save the location identification in the image overlay (as before)” now adds an aperture representation in image overlay to indicated centroid or not.
  -  5.2.0.09: Changed “plot of pixel values at mouse cursor from all slices” keyboard control to require both <Shift> and <Control> be held.
  - 5.2.0.08: Added option to show a plot of pixel values at mouse cursor from all slices when menu option is enabled or the <Control> key is held while moving mouse.
  -  5.2.0.08 : Added options to save a new single aperture position for use with the multi-aperture “previous aperture” option. To use, type or paste an RA and Dec into either RA or Dec above an image and press <Shift><Enter> to save a centroided T1 aperture, or press <Control><Enter> to save a non-centroided T1 aperture. Just press <Enter> to only save the location identification in the image overlay (as before).
- Debayer
  - 5.2.0.17: update WCS and NAXIS of debayered images
  - 5.2.0.17: add color code to debayered images
  - Add new option for Luminance image creation [ R + B + ½(G1+G2) ]. The original version R + B +G1 +G2 is still available.
  - 5.2.0.06: Debayer in virtual stack mode would previously keep copy of debayered images in memory, so could still hit a memory limit and crash. This has now been fixed and should allow any number of images to be debayered in virtual stack mode, without limits from available physical memory.
- Coordinate Converter
  - Now hides warning messages when leap second update connection failures occur
- AIJ Updater
  - 5.2.0.06: AstroImageJ.exe is now only downloaded under Windows (not under Mac or Linux). Even though it downloaded for Mac and Linux before (and could cause user confusion), it was not saved to disk, so was benign.
- NEBcheck
  -  5.2.0.07: Multiple measurementsTables processing now also selects T1 aperture.
  - 5.2.0.04: Faster copy of best results.
  - 5.2.0.02: Adds macro number in window title, fixes NEB table naming to match ExoFOP upload script, and turns off log output if checkbox on setup panel is disabled.
  -  5.2.0.01: Now handles detrended data columns that are saved in the measurements table(s).
  - 5.2.0.01: Added timestamps to log messages.
  -  5.2.0.01: Removed request for OK from user to start merging multiple table results. Added a merge progress progress bar.
  - 5.2.0.01: Supports checking for Txx/Cxx changes between different measurements tables.
  - 5.2.0.01: Accommodates multiple tables in the same folder by placing the results folder in the same folder. Otherwise, the results are placed in the parent folder of the first measurements table.
  - 5.2.0.01: Simplified user dialog asking if more files are to be processed.

## Bug Fixes
- General
  - 5.2.0.17: fixed problems with Multi-Aperture when running under Data Processor (variable aperture and centroiding)
  - 5.2.0.17: On Macs, either <Control> or <Command> c, x, v can be used to copy, cut, and paste into dialog boxes.
  - 5.2.0.17: plot zooming using the trackpad now works smoothly
  - 5.2.0.16: Significant performance improvements to file opening, photometry, and measurements table handling.
  - 5.2.0.15: Fixer error message when opening TESScut TICA FFIs.
  - 5.2.0.14: AIJ now ignores a trailing dot at the end of an integer in fits header values
- Macros
  - 5.2.0.17: Fixed another memory leak issue
  -  5.2.0.16: Fixed memory leak issue
  - 5.2.0.16: Fixed hang issues
  - 5.2.0.16: Multi-aperture “automode” now disabled for Stack Aligner runs
- Astrometry
  - Bug fixed that caused many timeouts when communicating with astrometry.net
- Data Processor
  - Fixed handling of compressed image names such as fits.fz
- Multiplot
  - 5.2.0.11: Fixed MP > File > Open plotcfg from file
  - 5.2.0.11: Fixed plotcfg open null pointer exception
  -   Fixed problem with Out Binning when phase folding (filtering of NaNs)
  - 5.2.0.10: Fixed laying in PDF image: transit model over binned data over unbinned data.
  - 5.2.0.08: Fixed a problem with data symbol and transit model placement in PDF files.
  - 5.2.0.08: Fixed an exception that caused the Multi-Plot Y-data panel to empty after changes the number of Y-datasets or the number of detrend parameters.
  -  5.2.0.08: Added “Style” option to allow disabling the display of AIJ version number on plot window. Please keep the version number displayed for AIJ general use for traceability of results. This option may be needed when producing PDF files for publication.
  -  5.2.0.07: Added “KeplerSpline” smoothing for long time-series such as from TESS. This smoothing is intended for removing long-term stellar variations from TESS light curves rather than for detrending ground-based data. The smoothing happens before the fit, and not jointly with the fit as with AIJ standard detrending.
- Stack Aligner
  - Bug fix to prevent loss of header information
- FITS Handling
  - 5.2.0.17: more updates to fits handling
  - 5.2.0.17: fixed writing of fpacked integer fits files
  - 5.2.0.17: TPC WCS coordinate system now handled (by ignoring  distortion corrections) (e.g. ZTF images)
  - 5.2.0.12 Updates to fits reading and writing (update to nom.tam.fits 1.18.0) to correct compression/decompressions differences relative to fpack/funpack utilities.
  - 5.2.0.11 Initial fixes to handle TICA FFIs
- Image Display
  - 5.2.0.10: Fixed NEB check macro startup from Image Display
  - 5.2.0.09: The “plot of pixel values” PDF plotting now works.
  - 5.2.0.05: Corrected problem with fixed contrast mode not staying at the same contrast level.
- Stack combiner
  - Fixes a bug with how numeric values were written to the updated headers. The bug caused headers to not show when opened in other programs or re-opened in AIJ.
  - Fix a bug that caused fits headers not to update when using a median stack combine.
- NEBcheck
  -  5.2.0.11: remove debug line ("TARGET disp: XXX") seen in the log file output
  - 5.2.0.04: Faster copy of best results.
